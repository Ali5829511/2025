# ๐ฆ ูุธุงู ุฅุฏุงุฑุฉ ุงููุฎุงููุงุช ุงููุฑูุฑูุฉ ุงููุชูุงูู
# Integrated Traffic Violations Management System

[![Python](https://img.shields.io/badge/Python-3.8%2B-blue)](https://www.python.org/)
[![Flask](https://img.shields.io/badge/Flask-3.0-green)](https://flask.palletsprojects.com/)
[![License](https://img.shields.io/badge/License-MIT-yellow)](LICENSE)
[![PRs Welcome](https://img.shields.io/badge/PRs-welcome-brightgreen.svg)](CONTRIBUTING.md)

## ๐ ุฌุฏูู ุงููุญุชููุงุช

1. [ูุธุฑุฉ ุนุงูุฉ](#-ูุธุฑุฉ-ุนุงูุฉ)
2. [ุงููููุฒุงุช](#-ุงููููุฒุงุช)
3. [ุงูุชุซุจูุช ุงูุณุฑูุน](#-ุงูุชุซุจูุช-ุงูุณุฑูุน)
4. [ุงูุงุณุชุฎุฏุงู](#-ุงูุงุณุชุฎุฏุงู)
5. [ุงููุดุฑ](#-ุงููุดุฑ)
6. [API Documentation](#-api-documentation)
7. [ุงูุฃูุงู](#-ุงูุฃูุงู)
8. [ุงููุณุงููุฉ](#-ุงููุณุงููุฉ)

---

## ๐ฏ ูุธุฑุฉ ุนุงูุฉ

ูุธุงู ูุชูุงูู ููุชุทูุฑ ูุฅุฏุงุฑุฉ ุงููุฎุงููุงุช ุงููุฑูุฑูุฉ ูุน ุชูุงูู API ูุชูููุฒ ููุญุงุช ุงูุณูุงุฑุงุช ุชููุงุฆูุงู ุจุงุณุชุฎุฏุงู ุชูููุฉ Plate Recognizer.

**A comprehensive traffic violations management system with automatic license plate recognition powered by Plate Recognizer API.**

### ๐ ููุงุฐุง ูุฐุง ุงููุธุงูุ

- โ **ุณูู ุงูุงุณุชุฎุฏุงู**: ูุงุฌูุฉ ุนุฑุจูุฉ ุจุฏูููุฉ ูุณูุณุฉ
- โก **ุณุฑูุน ููุนูุงู**: ุงุณุชุฌุงุจุฉ ููุฑูุฉ ููุนุงูุฌุฉ ุณุฑูุนุฉ
- ๐ฏ **ุฏููู**: ุชูููุฒ ุชููุงุฆู ูููุญุงุช ุจุฏูุฉ >95%
- ๐ **ุขูู**: ุญูุงูุฉ ูุชุนุฏุฏุฉ ุงููุณุชููุงุช
- ๐ **ูุงุจู ููุชุทููุฑ**: ูุนูุงุฑู ูุฑู ููุงุจู ููุชูุณุน
- ๐ฐ **ูุฌุงูู**: 2,500 ุงุณุชุนูุงู ูุฌุงูุงู ุดูุฑูุงู

---

## โจ ุงููููุฒุงุช

### ุงููุธุงุฆู ุงูุฃุณุงุณูุฉ
- ๐ ููุญุฉ ุชุญูู ุชูุงุนููุฉ ูุน ุฅุญุตุงุฆูุงุช ููุฑูุฉ
- ๐ ุฅุฏุงุฑุฉ ุดุงููุฉ ูููุฑูุจุงุช ูุงููุฎุงููุงุช
- ๐ ุจุญุซ ูุชุตููุฉ ูุชูุฏู
- ๐ธ ุฑูุน ููุนุงููุฉ ุงูุตูุฑ ูุน thumbnails
- ๐ฑ ุชุตููู ูุชุฌุงูุจ (Responsive Design)
- ๐ ุฏุนู ูุงูู ููุบุฉ ุงูุนุฑุจูุฉ ูุงูุฅูุฌููุฒูุฉ

### ุชูุงูู Plate Recognizer
- ๐ฏ ุชูููุฒ ุชููุงุฆู ูุฃุฑูุงู ุงูููุญุงุช
- โก ูุนุงูุฌุฉ ููุฑูุฉ (< 1 ุซุงููุฉ)
- ๐ ูุณุจุฉ ุฏูุฉ ุนุงููุฉ (>95%)
- ๐ธ๐ฆ ุฏุนู ุงูููุญุงุช ุงูุณุนูุฏูุฉ ูุงูุฎููุฌูุฉ
- ๐ก ุนุฑุถ ูุณุจุฉ ุงูุซูุฉ ูู ุงูุชูููุฒ

### ูุงุนุฏุฉ ุงูุจูุงูุงุช
- ๐๏ธ SQLite ุฎููู ูุณุฑูุน
- ๐ ุนูุงูุงุช ูุญููุฉ ุจูู ุงูุฌุฏุงูู
- ๐ ููุงุฑุณ ููุฃุฏุงุก ุงูุฃูุซู
- ๐พ ุจูุงูุงุช ุชุฌุฑูุจูุฉ ููุงุฎุชุจุงุฑ

---

## ๐ ุงูุชุซุจูุช ุงูุณุฑูุน

### ุงููุชุทูุจุงุช ุงูุฃุณุงุณูุฉ

```bash
Python 3.8+
pip (Python package manager)
```

### ุฎุทูุงุช ุงูุชุซุจูุช

#### 1. ุงุณุชูุณุฎ ุงููุดุฑูุน

```bash
git clone https://github.com/Ali5829511/2025.git
cd 2025
```

#### 2. ุซุจูุช ุงูููุชุจุงุช

```bash
pip install flask flask-cors python-dotenv requests pillow
```

#### 3. ุฃูุดุฆ ูุงุนุฏุฉ ุงูุจูุงูุงุช

```bash
python init_traffic_db.py
```

#### 4. (ุงุฎุชูุงุฑู) ุฃุถู Plate Recognizer API Token

ุฃูุดุฆ ููู `.env`:
```env
PLATE_RECOGNIZER_API_TOKEN=your_token_here
```

ุงุญุตู ุนูู token ูุฌุงูู ูู: https://app.platerecognizer.com/

#### 5. ุดุบูู ุงูุชุทุจูู

```bash
python traffic_app.py
```

#### 6. ุงูุชุญ ุงููุชุตูุญ

```
http://localhost:5001
```

๐ **ูุจุฑูู! ุงููุธุงู ูุนูู ุงูุขู**

---

## ๐ป ุงูุงุณุชุฎุฏุงู

### ุงูุตูุญุฉ ุงูุฑุฆูุณูุฉ

![Main Dashboard](docs/images/main-dashboard.png)

- ุนุฑุถ ุฌููุน ุงููุฎุงููุงุช ูู ุฌุฏูู ุชูุงุนูู
- ุฅุญุตุงุฆูุงุช ููุฑูุฉ (ุงููุฎุงููุงุชุ ุงูุณูุงุฑุงุชุ ุงูุบุฑุงูุงุช)
- ุจุญุซ ูุชุตููุฉ ูุชูุฏู
- ุนุฑุถ ุงูุตูุฑ ุงููุตุบุฑุฉ

### ุฅุถุงูุฉ ูุฎุงููุฉ ุฌุฏูุฏุฉ

![Add Violation](docs/images/add-violation.png)

1. ุงููุฑ "โ ุฅุถุงูุฉ ูุฎุงููุฉ"
2. ุงุฑูุน ุตูุฑุฉ ุงููุฎุงููุฉ (drag & drop ุฃู ุงููุฑ)
3. ุณูุชู ุงูุชุดุงู ุฑูู ุงูููุญุฉ ุชููุงุฆูุงู
4. ุฃููู ุงูุจูุงูุงุช ุงููุทููุจุฉ:
   - ุฑูู ุงูููุญุฉ *
   - ููุน ุงููุฎุงููุฉ *
   - ุงูุชุงุฑูุฎ *
   - ูููุฉ ุงูุบุฑุงูุฉ *
   - ุจูุงูุงุช ุฅุถุงููุฉ ุงุฎุชูุงุฑูุฉ
5. ุงุญูุธ ุงููุฎุงููุฉ

---

## ๐ ุงููุดุฑ

### ุฎูุงุฑุงุช ุงููุดุฑ ุงููุชุงุญุฉ

#### 1. Render.com (ุงูุฃุณูู ูุงูููุตู ุจู)

```bash
# ุงุณุชุฎุฏู render.traffic.yaml
```

1. ุณุฌู ุฏุฎูู ุนูู [Render.com](https://render.com)
2. "New +" โ "Web Service"
3. ุงุฎุชุฑ ุงููุณุชูุฏุน
4. ุงุณุชุฎุฏู ุฅุนุฏุงุฏุงุช:
   - Build: `pip install -r requirements.txt && python init_traffic_db.py`
   - Start: `python traffic_app.py`
5. ุฃุถู `PLATE_RECOGNIZER_API_TOKEN`
6. ุงูุดุฑ!

**ุฑุงุจุท ูุจุงุดุฑ:** [ุฏููู ุงููุดุฑ ุงููุงูู](TRAFFIC_DEPLOYMENT_GUIDE.md)

#### 2. Docker

```bash
# ุงุณุชุฎุฏู Docker Compose
docker-compose -f docker-compose.traffic.yml up -d

# ุฃู ุจูุงุก ูุฏูู
docker build -f Dockerfile.traffic -t traffic-system .
docker run -p 5001:5001 -e PLATE_RECOGNIZER_API_TOKEN=your_token traffic-system
```

#### 3. Railway.app

1. ุณุฌู ุฏุฎูู ุนูู [Railway.app](https://railway.app)
2. "New Project" โ "Deploy from GitHub"
3. ุงุฎุชุฑ ุงููุณุชูุฏุน
4. ุงููุดุฑ ุชููุงุฆูุงู!

#### 4. Heroku

```bash
# ุงุณุชุฎุฏู Procfile.traffic
heroku create traffic-violations-app
heroku config:set PLATE_RECOGNIZER_API_TOKEN=your_token
git push heroku main
```

---

## ๐ก API Documentation

### Endpoints ุงููุชุงุญุฉ

#### 1. ุงูุญุตูู ุนูู ุฌููุน ุงููุฎุงููุงุช

```http
GET /api/violations
```

**Response:**
```json
{
  "success": true,
  "data": [
    {
      "violation_id": 1,
      "plate_number": "ABC-1234",
      "owner_name": "ุฃุญูุฏ ูุญูุฏ",
      "violation_type": "ุชุฌุงูุฒ ุงูุณุฑุนุฉ",
      "violation_date": "2024-01-15",
      "fine_amount": 500.0,
      "image_path": "/static/images/violation1.jpg"
    }
  ],
  "total": 4
}
```

#### 2. ุงูุญุตูู ุนูู ุฌููุน ุงูุณูุงุฑุงุช

```http
GET /api/cars
```

#### 3. ุฑูุน ุตูุฑุฉ ูุฎุงููุฉ

```http
POST /api/upload-violation
Content-Type: multipart/form-data

Body:
  image: [file]
```

**Response:**
```json
{
  "success": true,
  "image_path": "/static/uploads/violations/20240115_120000_image.jpg",
  "plate_recognition": {
    "success": true,
    "plate": "ABC-1234",
    "confidence": 0.95,
    "region": "sa"
  }
}
```

#### 4. ุฅุถุงูุฉ ูุฎุงููุฉ ุฌุฏูุฏุฉ

```http
POST /api/add-violation
Content-Type: application/json

{
  "plate_number": "ABC-1234",
  "violation_type": "ุชุฌุงูุฒ ุงูุณุฑุนุฉ",
  "violation_date": "2024-01-15",
  "fine_amount": 500.0,
  "owner_name": "ุฃุญูุฏ ูุญูุฏ",
  "model": "ุชูููุชุง ูุงูุฑู",
  "year": 2020,
  "color": "ุฃุจูุถ",
  "officer_name": "ูุญูุฏ ุฃุญูุฏ",
  "image_path": "/static/uploads/violations/image.jpg"
}
```

#### 5. ุญุงูุฉ Plate Recognizer API

```http
GET /api/plate-recognizer/status
```

**Response:**
```json
{
  "configured": true,
  "connected": true,
  "message": "API connection successful",
  "usage": {
    "month": 150,
    "calls": 2500
  },
  "total_calls": 150
}
```

### ูุซุงู ุงุณุชุฎุฏุงู ูุน cURL

```bash
# ุงูุญุตูู ุนูู ุงููุฎุงููุงุช
curl http://localhost:5001/api/violations

# ุฅุถุงูุฉ ูุฎุงููุฉ
curl -X POST http://localhost:5001/api/add-violation \
  -H "Content-Type: application/json" \
  -d '{
    "plate_number": "XYZ-5678",
    "violation_type": "ูููู ููููุน",
    "violation_date": "2024-01-20",
    "fine_amount": 300.0
  }'
```

---

## ๐ ุงูุฃูุงู

### ุงูุฅุฌุฑุงุกุงุช ุงูุฃูููุฉ ุงููุทุจูุฉ

1. **ุญูุงูุฉ ุงููููุงุช**
   - โ ุงูุชุญูู ูู ุฃููุงุน ุงููููุงุช ุงููุฑููุนุฉ
   - โ ุงุณุชุฎุฏุงู `secure_filename`
   - โ ุชุญุฏูุฏ ุญุฌู ุงููููุงุช ุงููุณููุญุฉ

2. **ุญูุงูุฉ ูุงุนุฏุฉ ุงูุจูุงูุงุช**
   - โ ุงุณุชุฎุฏุงู Prepared Statements
   - โ ููุน SQL Injection
   - โ ููุงุฑุณ ููุฃุฏุงุก ูุงูุฃูุงู

3. **ุญูุงูุฉ API**
   - โ CORS ูุญูู
   - โ ูุนุงูุฌุฉ ุขููุฉ ููุฃุฎุทุงุก
   - โ ุนุฏู ูุดู ูุนูููุงุช ุญุณุงุณุฉ

4. **ุญูุงูุฉ ุงูุจูุงูุงุช ุงูุญุณุงุณุฉ**
   - โ API Tokens ูู ูุชุบูุฑุงุช ุงูุจูุฆุฉ
   - โ ุนุฏู ุญูุธ ูููุงุช ุงููุฑูุฑ ูู ุงูููุฏ
   - โ `.gitignore` ูููููุงุช ุงูุญุณุงุณุฉ

### ุชูุตูุงุช ุฃูููุฉ

- ๐ ุงุณุชุฎุฏู HTTPS ูู ุจูุฆุฉ ุงูุฅูุชุงุฌ
- ๐ ูููุฏ ุงููุตูู ูููุณุชุฎุฏููู ุงููุตุฑุญ ููู
- ๐ ุงุญุชูุธ ุจูุณุฎ ุงุญุชูุงุทูุฉ ุฏูุฑูุฉ
- ๐ ุฑุงูุจ ุงูุณุฌูุงุช (Logs) ุจุงูุชุธุงู
- ๐ ุญุฏูุซ ุงูููุชุจุงุช ุจุงูุชุธุงู

---

## ๐ ูููู ุงููุดุฑูุน

```
2025/
โโโ traffic_app.py                     # ุงูุชุทุจูู ุงูุฑุฆูุณู
โโโ init_traffic_db.py                 # ุชููุฆุฉ ูุงุนุฏุฉ ุงูุจูุงูุงุช
โโโ traffic.db                         # ูุงุนุฏุฉ ุจูุงูุงุช SQLite
โโโ templates/
โ   โโโ traffic_violations_index.html # ุงูุตูุญุฉ ุงูุฑุฆูุณูุฉ
โ   โโโ add_violation.html            # ุตูุญุฉ ุฅุถุงูุฉ ูุฎุงููุฉ
โโโ static/
โ   โโโ images/                       # ุตูุฑ ุงูุนููุงุช
โ   โโโ uploads/
โ       โโโ violations/               # ุตูุฑ ุงููุฎุงููุงุช ุงููุฑููุนุฉ
โโโ docs/                             # ุงูุชูุซูู
โ   โโโ TRAFFIC_SYSTEM_README.md      # README ุงูุฃุณุงุณู
โ   โโโ TRAFFIC_DEPLOYMENT_GUIDE.md   # ุฏููู ุงููุดุฑ
โ   โโโ QUICK_START_TRAFFIC.md        # ุงูุจุฏุก ุงูุณุฑูุน
โโโ Dockerfile.traffic                # Docker configuration
โโโ docker-compose.traffic.yml        # Docker Compose
โโโ render.traffic.yaml               # Render.com config
โโโ Procfile.traffic                  # Heroku config
โโโ requirements.txt                  # ุงูููุชุจุงุช ุงููุทููุจุฉ
โโโ .env.example                      # ูุซุงู ูุชุบูุฑุงุช ุงูุจูุฆุฉ
```

---

## ๐๏ธ ูุงุนุฏุฉ ุงูุจูุงูุงุช

### ุงูุฌุฏุงูู

#### ุฌุฏูู ุงูุณูุงุฑุงุช - Cars
```sql
CREATE TABLE cars (
    car_id INTEGER PRIMARY KEY AUTOINCREMENT,
    plate_number TEXT UNIQUE NOT NULL,
    owner_name TEXT,
    model TEXT,
    year INTEGER,
    color TEXT,
    created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP
);
```

#### ุฌุฏูู ุงููุฎุงููุงุช - Violations
```sql
CREATE TABLE violations (
    violation_id INTEGER PRIMARY KEY AUTOINCREMENT,
    car_id INTEGER NOT NULL,
    violation_type TEXT NOT NULL,
    violation_date TEXT NOT NULL,
    fine_amount REAL NOT NULL,
    officer_name TEXT,
    image_path TEXT,
    created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
    FOREIGN KEY (car_id) REFERENCES cars(car_id)
);
```

### ุงูููุงุฑุณ
- `idx_cars_plate`: ุนูู `plate_number`
- `idx_violations_car`: ุนูู `car_id`
- `idx_violations_date`: ุนูู `violation_date`

---

## ๐ค ุงููุณุงููุฉ

ูุฑุญุจ ุจูุณุงููุงุชูู! 

### ููููุฉ ุงููุณุงููุฉ:

1. Fork ุงููุณุชูุฏุน
2. ุฃูุดุฆ ูุฑุน ููููุฒุฉ (`git checkout -b feature/AmazingFeature`)
3. Commit ุงูุชุบููุฑุงุช (`git commit -m 'Add AmazingFeature'`)
4. Push ุฅูู ุงููุฑุน (`git push origin feature/AmazingFeature`)
5. ุงูุชุญ Pull Request

### ุฃููุงุฑ ููุชุทููุฑ:

- [ ] ูุธุงู ูุณุชุฎุฏููู ูุตูุงุญูุงุช
- [ ] ุชุตุฏูุฑ ุชูุงุฑูุฑ Excel/PDF
- [ ] ููุญุฉ ุชุญูู ุฅุญุตุงุฆูุฉ ูุชูุฏูุฉ
- [ ] ุฅุดุนุงุฑุงุช ุจุงูุจุฑูุฏ ุงูุฅููุชุฑููู
- [ ] ุชุทุจูู ููุจุงูู
- [ ] ุฏุนู ูุบุงุช ุฅุถุงููุฉ
- [ ] ุชูุงูู ูุน ุฎุฏูุงุช ุฏูุน

---

## ๐ ุงูุฅุญุตุงุฆูุงุช

- โก ููุช ุงูุงุณุชุฌุงุจุฉ: < 100ms
- ๐ฏ ุฏูุฉ ุงูุชูููุฒ: > 95%
- ๐พ ุญุฌู ูุงุนุฏุฉ ุงูุจูุงูุงุช: < 10MB
- ๐ฆ ุญุฌู ุงูุชุทุจูู: < 50MB

---

## ๐ ุงูุฏุนู ูุงููุณุงุนุฏุฉ

### ุงูููุงุฑุฏ:
- ๐ [ุงูุชูุซูู ุงููุงูู](TRAFFIC_SYSTEM_README.md)
- ๐ [ุฏููู ุงููุดุฑ](TRAFFIC_DEPLOYMENT_GUIDE.md)
- โก [ุงูุจุฏุก ุงูุณุฑูุน](QUICK_START_TRAFFIC.md)
- ๐ฌ [GitHub Issues](https://github.com/Ali5829511/2025/issues)

### ุฑูุงุจุท ูููุฉ:
- [Plate Recognizer Documentation](https://docs.platerecognizer.com/)
- [Flask Documentation](https://flask.palletsprojects.com/)
- [SQLite Documentation](https://www.sqlite.org/docs.html)

---

## ๐ ุงูุชุฑุฎูุต

ูุฐุง ุงููุดุฑูุน ูุฑุฎุต ุชุญุช [MIT License](LICENSE)

ููููู ุงุณุชุฎุฏุงู ูุชุนุฏูู ูุชูุฒูุน ุงููุดุฑูุน ุจุญุฑูุฉ.

---

## ๐จโ๐ป ุงููุทูุฑ

**Ali5829511**

- GitHub: [@Ali5829511](https://github.com/Ali5829511)
- Repository: [Ali5829511/2025](https://github.com/Ali5829511/2025)

---

## ๐ ุดูุฑ ูุชูุฏูุฑ

- ุดูุฑ ุฎุงุต ูู [Plate Recognizer](https://platerecognizer.com/) ุนูู API ุงูุฑุงุฆุน
- ุดูุฑ ููุฌุชูุน Flask ุนูู ุงูุฅุทุงุฑ ุงูููุชุงุฒ
- ุดูุฑ ููู ูู ุณุงูู ูู ุงููุดุฑูุน

---

## ๐ ุฅุตุฏุงุฑุงุช ุงููุดุฑูุน

### ุงููุณุฎุฉ 1.0.0 (ุงูุญุงููุฉ)
- โ ุงููุงุฌูุฉ ุงูุฃุณุงุณูุฉ
- โ ุชูุงูู Plate Recognizer
- โ ุฅุฏุงุฑุฉ ุงููุฎุงููุงุช
- โ ุฑูุน ุงูุตูุฑ
- โ ุงูุจุญุซ ูุงูุชุตููุฉ

### ูุงุฏูุงู ูู ุงููุณุฎุฉ 2.0:
- ๐ ูุธุงู ุงููุณุชุฎุฏููู
- ๐ ุชุตุฏูุฑ ุงูุชูุงุฑูุฑ
- ๐ ููุญุฉ ุชุญูู ูุชูุฏูุฉ
- ๐ API RESTful ูุงูู

---

<div align="center">

### ๐ธ๐ฆ ุตููุน ุจูุฎุฑ ูู ุงูููููุฉ ุงูุนุฑุจูุฉ ุงูุณุนูุฏูุฉ

**Proudly Made in Saudi Arabia ๐ธ๐ฆ**

---

**โญ ุฅุฐุง ุฃุนุฌุจู ุงููุดุฑูุนุ ูุง ุชูุณู ูุถุน ูุฌูุฉ (Star) ุนูู GitHub!**

**If you like this project, don't forget to give it a star on GitHub! โญ**

</div>
